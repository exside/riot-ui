!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";n(1),n(7),n(9),n(12),n(15)},function(e,t,n){"use strict";riot.tag2("autocomplete",'<input type="text" name="_input" class="input" onkeydown="{handleArrowKeys}" onkeyup="{filterOptions}" onfocus="{showOptions}" onblur="{hideOptions}" placeholder="{opts.placeholder}"> <ul class="menu" name="_optionList" if="{shouldShowOptions && filteredCount()}"> <li class="menu-item {active: index == active}" each="{option, index in filtered}" onmouseover="{hoverOption}" onmousedown="{chooseCurrent}">{option.text} </li> </ul>',"",'class="{focus: document.hasFocus() && _input === document.activeElement}"',function(e){var t=this;n(2);var i=n(6);this.active=0,this.filtered=this.opts.options.filter(function(e){return!t.opts.filter||t.opts.filter(e)}),this.filteredCount=function(){return t.filtered.length},this.hoverOption=function(e){!t.hoverLocked&&(t.active=e.item.index)},this.reset=function(){t._input.value="",t.selected=null,t.filterOptions(),t.hideOptions()},this.hideOptions=function(){t.shouldShowOptions=!1},this.showOptions=function(){t.shouldShowOptions||(t.active=0),t.shouldShowOptions=!0},this.filterOptions=function(e){var n=e?e.keyCode:-1;switch(n){case i("LEFT"):case i("RIGHT"):return!0;case i("ESC"):case i("ENTER"):return t.hideOptions(),!0;case i("DOWN"):case i("UP"):return t.showOptions(),!0}var o=new RegExp("(^|\\s)"+t._input.value.trim(),"i");return t.filtered=t.opts.options.filter(function(e){return o.test(e.text)&&(!t.opts.filter||t.opts.filter(e))}),t.active=0,t.showOptions(),!0},this.chooseCurrent=function(){var e=t.filtered[t.active];t._input.value=e.text,t.opts.onchange&&t.selected!=e&&t.opts.onchange(e),t.selected=e,t.hideOptions(),t.update()},this.handleArrowKeys=function(e){switch(e.keyCode){case i("DOWN"):return t.lockHover(),e.preventDefault(),t.active=Math.min(t.active+1,t.filteredCount()-1),!1;case i("UP"):return t.lockHover(),e.preventDefault(),t.active=Math.max(0,t.active-1),!1;case i("ENTER"):return t.chooseCurrent(),!0}return!0},this.lockHover=function(){var e=function n(){t.hoverLocked=!1,window.removeEventListener("mousemove",n)};window.addEventListener("mousemove",e),t.hoverLocked=!0},this.on("updated",function(){var e=t._optionList.querySelector(".active");if(e){var n=t._optionList.offsetHeight,i=t._optionList.scrollTop,o=e.offsetTop,r=e.offsetHeight;o+r>i+n&&(t._optionList.scrollTop+=o+r-i-n),i>=o&&(t._optionList.scrollTop=o)}})},"{ }")},function(e,t,n){var i=n(3);"string"==typeof i&&(i=[[e.id,i,""]]);n(5)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(4)(),t.push([e.id,"autocomplete{display:block;position:relative}autocomplete .menu{position:absolute;left:0;top:100%;margin:0;padding:0;background-color:#fff;max-height:230px;width:calc(100% + 14px);overflow-y:hidden;z-index:99;border:1px solid #ccc;border-top:0}autocomplete .menu-item{padding:7px}autocomplete .menu-item:hover{background-color:transparent}autocomplete .menu-item.active{background-color:#eee}autocomplete .input{outline:none;width:100%;padding:7px;font-size:1em;border:1px solid #ccc}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=f[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(l(i.parts[r],t))}else{for(var s=[],r=0;r<i.parts.length;r++)s.push(l(i.parts[r],t));f[i.id]={id:i.id,refs:1,parts:s}}}}function o(e){for(var t=[],n={},i=0;i<e.length;i++){var o=e[i],r=o[0],s=o[1],a=o[2],c=o[3],l={css:s,media:a,sourceMap:c};n[r]?n[r].parts.push(l):t.push(n[r]={id:r,parts:[l]})}return t}function r(e,t){var n=v(),i=b[b.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function s(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",r(e,t),t}function c(e){var t=document.createElement("link");return t.rel="stylesheet",r(e,t),t}function l(e,t){var n,i,o;if(t.singleton){var r=w++;n=m||(m=a(t)),i=d.bind(null,n,r,!1),o=d.bind(null,n,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(t),i=p.bind(null,n),o=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),i=u.bind(null,n),o=function(){s(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}function d(e,t,n,i){var o=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var r=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function u(e,t){var n=t.css,i=t.media;t.sourceMap;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t){var n=t.css,i=(t.media,t.sourceMap);i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([n],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(o),r&&URL.revokeObjectURL(r)}var f={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},g=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,w=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=g()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=o(e);return i(n,t),function(e){for(var r=[],s=0;s<n.length;s++){var a=n[s],c=f[a.id];c.refs--,r.push(c)}if(e){var l=o(e);i(l,t)}for(var s=0;s<r.length;s++){var c=r[s];if(0===c.refs){for(var d=0;d<c.parts.length;d++)c.parts[d]();delete f[c.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){t=e.exports=function(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return r[e];var o=String(e),s=n[o.toLowerCase()];if(s)return s;var s=i[o.toLowerCase()];return s?s:1===o.length?o.charCodeAt(0):void 0};var n=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,command:91,"right click":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,"break":19,caps:20,"return":13,escape:27,spc:32,pgup:33,pgdn:33,ins:45,del:46,cmd:91};/*!
	 * Programatically add the following
	 */
for(o=97;123>o;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;58>o;o++)n[o-48]=o;for(o=1;13>o;o++)n["f"+o]=o+111;for(o=0;10>o;o++)n["numpad "+o]=o+96;var r=t.names=t.title={};for(o in n)r[n[o]]=o;for(var s in i)n[s]=i[s]},function(e,t,n){"use strict";riot.tag2("connectable",'<div onmousedown="{startDrawing}" style="position: relative"> <yield></yield> </div> <div if="{drawing}" name="_svgContainer" class="svg-container"> <svg height="100%" width="100%"> <path name="_connectionLine" stroke="{color}" stroke-width="2" fill="none" d=""></path> <circle name="_circleOrigin" r="4" fill="{color}"></circle> <circle name="_circleTarget" r="4" fill="{color}"></circle> </svg> </div>','connectable,[riot-tag="connectable"] { cursor: crosshair; display: block; } connectable .svg-container,[riot-tag="connectable"] .svg-container { z-index: 800; width: 100%; height: 100%; position: fixed; top: 0; left: 0 }',"",function(e){var t=this,i="connectable:endDrawing",o=n(8).offset;window.__connectableEventBus=window.__connectableEventBus||riot.observable({}),this.showOverlay=!1,this.drawing=!1,this.color=e.color||"rgba(0,180,0,.8)",this.onconnect=this.opts.onconnect||function(e){return e()},this.drawLine=function(e){e.stopImmediatePropagation();var n={x:e.clientX,y:e.clientY};t._connectionLine.setAttribute("d","M "+t.from.x+" "+t.from.y+" q "+(n.x-t.from.x)+" 0 "+(n.x-t.from.x)+" "+(n.y-t.from.y)),t._circleOrigin.setAttribute("cx",t.from.x),t._circleOrigin.setAttribute("cy",t.from.y),t._circleTarget.setAttribute("cx",n.x),t._circleTarget.setAttribute("cy",n.y)},this.followScroll=function(e){t._svgContainer.style.marginTop=t.from.scrollY-window.scrollY+"px"},this.startDrawing=function(e){if(!/^(TEXTAREA|INPUT)$/.test(e.target.nodeName)||e.target.getAttribute("disabled")){window.__connectableOrigin=t,t.from={x:e.clientX,y:e.clientY,scrollY:window.scrollY};var n=setTimeout(function(){t.drawing=!0,t.update()},200),o=t;window.addEventListener("scroll",t.followScroll),window.addEventListener("mousemove",t.drawLine),window.addEventListener("mouseup",function r(e){e.stopImmediatePropagation(),clearTimeout(n),window.removeEventListener("mousemove",o.drawLine),window.removeEventListener("mouseup",r);var t=setTimeout(o.discardDraw,100);window.__connectableEventBus.trigger(i,e,t)})}},this.endDrawing=function(e){function n(t){s?r.onconnect(t,r,i,e):i.onconnect(t,i,r,e)}var i=t,r=window.__connectableOrigin,s=o(t.root).top>o(r.root).top;i===r?r.discardDraw():new Promise(n).then(r.discardDraw)},this.discardDraw=function(){window.removeEventListener("scroll",t.followScroll),t._svgContainer.style.marginTop=0,t.drawing=!1,t.update()},window.__connectableEventBus.on(i,function(e,n){var i=o(t.root).top,r=i,s=i+t.root.offsetHeight;e.pageY>r&&e.pageY<s&&(clearTimeout(n),t.endDrawing(e))})},"{ }")},function(e,t){"use strict";e.exports={offset:function(e,t){var n,i,o;return e?(i=e.getBoundingClientRect(),i.width||i.height||e.getClientRects().length?(o=e.ownerDocument,n=o.documentElement,{top:i.top+window.pageYOffset-n.clientTop,left:i.left+window.pageXOffset-n.clientLeft}):void 0):void 0}}},function(e,t,n){"use strict";riot.tag2("toggle-switch",'<div class="switch {checked: active}"> <div class="ball"></div> </div> <div class="label"> <yield></yield> </div>',"",'onclick="{action}"',function(e){var t=this;n(10),this.active=this.opts.active,this.setActive=function(e){t.active=e},this.action=function(){t.active=!t.active,t.opts.onchange&&t.opts.onchange(t.active)}},"{ }")},function(e,t,n){var i=n(11);"string"==typeof i&&(i=[[e.id,i,""]]);n(5)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(4)(),t.push([e.id,"toggle-switch{display:table}toggle-switch .label,toggle-switch .switch{vertical-align:middle;display:table-cell}toggle-switch .label{padding-left:10px;user-select:none;-webkit-user-select:none;-moz-user-select:none;cursor:default}toggle-switch .switch{background:#ddd;width:48px;height:24px;border-radius:12px}toggle-switch .switch>.ball{float:left}toggle-switch .switch.checked{background:#32cd32}toggle-switch .switch.checked>.ball{float:right}toggle-switch .ball{background:#fff;border-radius:50%;height:20px;width:20px;margin:2px}",""])},function(e,t,n){"use strict";riot.tag2("floating-menu",'<div class="target" onclick="{toggle}"> <yield></yield> </div> <ul class="options" each="{open ? [1] : []}"> <li each="{option in getOptions()}" onclick="{action}">{option.name}</li> </ul>',"","",function(e){var t=this;n(13);var i=(n(8).offset,{CLOSE_OTHERS:"floating-menu:close-others"});window.__floatingMenuEventBus=window.__floatingMenuEventBus||riot.observable({}),this.open=!1,this.id=Math.random(),this.getOptions=function(){return t.open?t.opts.options:[]},this.action=function(e){t.hideMenu(),e.item.option.action&&e.item.option.action()},this.hideMenu=function(){t.open=!1,window.removeEventListener("click",t.hideMenu),t.update()},this.toggle=function(e){t.open=!t.open,t.open&&(window.addEventListener("click",t.hideMenu),window.__floatingMenuEventBus.trigger(i.CLOSE_OTHERS,t.id)),e.stopPropagation()},window.__floatingMenuEventBus.on(i.CLOSE_OTHERS,function(e){e!=t.id&&t.open&&(t.hideMenu(),t.update())})},"{ }")},function(e,t,n){var i=n(14);"string"==typeof i&&(i=[[e.id,i,""]]);n(5)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(4)(),t.push([e.id,"floating-menu{display:block}floating-menu .target{display:inline;cursor:default}floating-menu .options{background:#fff;box-shadow:1px 1px 20px rgba(0,0,0,.4);position:absolute;z-index:999;width:200px;padding:1px;margin:0}floating-menu .options li{list-style:none;color:#333;padding:10px 20px;cursor:pointer;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}floating-menu .options li:hover{background:#e4e4e4}",""])},function(e,t,n){"use strict";riot.tag2("editable-text",'<div class="editable-container" ondblclick="{enableEditing}"> <textarea if="{editing}" name="_editable" class="textarea" onkeydown="{handleInput}" onblur="{cancelEditing}" type="text" placeholder="{opts.placeholder}">{content}</textarea> <div name="_static" class="static-text {editing: editing}">{content}</div> </div>',"","",function(e){var t=this;n(16);var i=n(6);this.editing=!1,this.content=this.opts.content,this.resizeTextarea=function(){t._static.innerText=t._editable.value||"x",t._editable.style.height=t._static.offsetHeight+"px",t._static.innerText=t._editable.value||""},this.enableEditing=function(){t.editing||(t.update({editing:!0}),t._editable.focus(),t._editable.value="",t._editable.value=t.content,t.resizeTextarea())},this.saveEditing=function(e){t.content=t._editable.value,t.opts.oncontentchange&&t.opts.oncontentchange(t.content),t.editing=!1,t.update()},this.cancelEditing=function(){t.editing=!1},this.handleInput=function(e){switch(e.keyCode){case i("enter"):return t.saveEditing(),t.resizeTextarea(),!1;case i("esc"):return t.cancelEditing(),t.resizeTextarea(),!1}return t.resizeTextarea(),!0}},"{ }")},function(e,t,n){var i=n(17);"string"==typeof i&&(i=[[e.id,i,""]]);n(5)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(4)(),t.push([e.id,"editable-text .editable-container{position:relative;display:block}editable-text .static-text{background:transparent!important;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}editable-text .static-text.editing{opacity:0;position:absolute;width:100%;top:0;left:0}editable-text .textarea{font-family:sans-serif;font-size:1em;color:inherit;box-shadow:none!important;outline:none!important;padding:0;resize:none;width:100%;display:block;border:.5em solid transparent!important;margin:-.5em;background:rgba(0,0,0,.1);overflow:hidden}",""])}]);