!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";n(1),n(7),n(9),n(12)},function(e,t,n){"use strict";riot.tag2("autocomplete",'<input type="text" name="_input" class="input" onkeydown="{handleArrowKeys}" onkeyup="{filterOptions}" onfocus="{showOptions}" onblur="{hideOptions}" placeholder="{opts.placeholder}"> <ul class="menu" name="_optionList" if="{shouldShowOptions && filteredCount()}"> <li class="menu-item {active: index == active}" each="{option, index in filtered}" onmouseover="{hoverOption}" onmousedown="{chooseCurrent}">{option.text} </li> </ul>',"",'class="{focus: document.hasFocus() && _input === document.activeElement}"',function(e){var t=this;n(2);var o=n(6);this.active=0,this.filtered=this.opts.options.filter(function(e){return!t.opts.filter||t.opts.filter(e)}),this.filteredCount=function(){return t.filtered.length},this.hoverOption=function(e){!t.hoverLocked&&(t.active=e.item.index)},this.reset=function(){t._input.value="",t.selected=null,t.filterOptions(),t.hideOptions()},this.hideOptions=function(){t.shouldShowOptions=!1},this.showOptions=function(){t.shouldShowOptions||(t.active=0),t.shouldShowOptions=!0},this.filterOptions=function(e){var n=e?e.keyCode:-1;switch(n){case o("LEFT"):case o("RIGHT"):return!0;case o("ESC"):case o("ENTER"):return t.hideOptions(),!0;case o("DOWN"):case o("UP"):return t.showOptions(),!0}var i=new RegExp("(^|\\s)"+t._input.value.trim(),"i");return t.filtered=t.opts.options.filter(function(e){return i.test(e.text)&&(!t.opts.filter||t.opts.filter(e))}),t.active=0,t.showOptions(),!0},this.chooseCurrent=function(){var e=t.filtered[t.active];t._input.value=e.text,t.opts.onchange&&t.selected!=e&&t.opts.onchange(e),t.selected=e,t.hideOptions(),t.update()},this.handleArrowKeys=function(e){switch(e.keyCode){case o("DOWN"):return t.lockHover(),e.preventDefault(),t.active=Math.min(t.active+1,t.filteredCount()-1),!1;case o("UP"):return t.lockHover(),e.preventDefault(),t.active=Math.max(0,t.active-1),!1;case o("ENTER"):return t.chooseCurrent(),!0}return!0},this.lockHover=function(){var e=function n(){t.hoverLocked=!1,window.removeEventListener("mousemove",n)};window.addEventListener("mousemove",e),t.hoverLocked=!0},this.on("updated",function(){var e=t._optionList.querySelector(".active");if(e){var n=t._optionList.offsetHeight,o=t._optionList.scrollTop,i=e.offsetTop,r=e.offsetHeight;i+r>o+n&&(t._optionList.scrollTop+=i+r-o-n),o>=i&&(t._optionList.scrollTop=i)}})},"{ }")},function(e,t,n){var o=n(3);"string"==typeof o&&(o=[[e.id,o,""]]);n(5)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(4)(),t.push([e.id,"autocomplete{display:block;position:relative}autocomplete .menu{position:absolute;left:0;top:100%;margin:0;padding:0;background-color:#fff;max-height:230px;width:calc(100% + 14px);overflow-y:hidden;z-index:99;border:1px solid #ccc;border-top:0}autocomplete .menu-item{padding:7px}autocomplete .menu-item:hover{background-color:transparent}autocomplete .menu-item.active{background-color:#eee}autocomplete .input{outline:none;width:100%;padding:7px;font-size:1em;border:1px solid #ccc}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&o[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=f[o.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](o.parts[r]);for(;r<o.parts.length;r++)i.parts.push(l(o.parts[r],t))}else{for(var s=[],r=0;r<o.parts.length;r++)s.push(l(o.parts[r],t));f[o.id]={id:o.id,refs:1,parts:s}}}}function i(e){for(var t=[],n={},o=0;o<e.length;o++){var i=e[o],r=i[0],s=i[1],c=i[2],a=i[3],l={css:s,media:c,sourceMap:a};n[r]?n[r].parts.push(l):t.push(n[r]={id:r,parts:[l]})}return t}function r(e,t){var n=g(),o=b[b.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function s(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function c(e){var t=document.createElement("style");return t.type="text/css",r(e,t),t}function a(e){var t=document.createElement("link");return t.rel="stylesheet",r(e,t),t}function l(e,t){var n,o,i;if(t.singleton){var r=w++;n=m||(m=c(t)),o=u.bind(null,n,r,!1),i=u.bind(null,n,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=a(t),o=p.bind(null,n),i=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=c(t),o=d.bind(null,n),i=function(){s(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}function u(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=x(t,i);else{var r=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function d(e,t){var n=t.css,o=t.media;t.sourceMap;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t){var n=t.css,o=(t.media,t.sourceMap);o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([n],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(i),r&&URL.revokeObjectURL(r)}var f={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},v=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,w=0,b=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=v()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=i(e);return o(n,t),function(e){for(var r=[],s=0;s<n.length;s++){var c=n[s],a=f[c.id];a.refs--,r.push(a)}if(e){var l=i(e);o(l,t)}for(var s=0;s<r.length;s++){var a=r[s];if(0===a.refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete f[a.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){t=e.exports=function(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return r[e];var i=String(e),s=n[i.toLowerCase()];if(s)return s;var s=o[i.toLowerCase()];return s?s:1===i.length?i.charCodeAt(0):void 0};var n=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,command:91,"right click":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,"break":19,caps:20,"return":13,escape:27,spc:32,pgup:33,pgdn:33,ins:45,del:46,cmd:91};/*!
	 * Programatically add the following
	 */
for(i=97;123>i;i++)n[String.fromCharCode(i)]=i-32;for(var i=48;58>i;i++)n[i-48]=i;for(i=1;13>i;i++)n["f"+i]=i+111;for(i=0;10>i;i++)n["numpad "+i]=i+96;var r=t.names=t.title={};for(i in n)r[n[i]]=i;for(var s in o)n[s]=o[s]},function(e,t,n){"use strict";riot.tag2("connectable",'<div onmousedown="{startDrawing}" style="position: relative"> <yield></yield> </div> <div if="{drawing}" name="_svgContainer" class="svg-container"> <svg height="100%" width="100%"> <path name="_connectionLine" stroke="{color}" stroke-width="2" fill="none" d=""></path> <circle name="_circleOrigin" r="4" fill="{color}"></circle> <circle name="_circleTarget" r="4" fill="{color}"></circle> </svg> </div>','connectable,[riot-tag="connectable"] { cursor: crosshair; display: block; } connectable .svg-container,[riot-tag="connectable"] .svg-container { z-index: 800; width: 100%; height: 100%; position: fixed; top: 0; left: 0 }',"",function(e){var t=this,o="connectable:endDrawing",i=n(8).offset;window.__connectableEventBus=window.__connectableEventBus||riot.observable({}),this.showOverlay=!1,this.drawing=!1,this.color=e.color||"rgba(0,180,0,.8)",this.onconnect=this.opts.onconnect||function(e){return e()},this.drawLine=function(e){e.stopImmediatePropagation();var n={x:e.clientX,y:e.clientY};t._connectionLine.setAttribute("d","M "+t.from.x+" "+t.from.y+" q "+(n.x-t.from.x)+" 0 "+(n.x-t.from.x)+" "+(n.y-t.from.y)),t._circleOrigin.setAttribute("cx",t.from.x),t._circleOrigin.setAttribute("cy",t.from.y),t._circleTarget.setAttribute("cx",n.x),t._circleTarget.setAttribute("cy",n.y)},this.followScroll=function(e){t._svgContainer.style.marginTop=t.from.scrollY-window.scrollY+"px"},this.startDrawing=function(e){if(!/^(TEXTAREA|INPUT)$/.test(e.target.nodeName)||e.target.getAttribute("disabled")){window.__connectableOrigin=t,t.from={x:e.clientX,y:e.clientY,scrollY:window.scrollY};var n=setTimeout(function(){t.drawing=!0,t.update()},200),i=t;window.addEventListener("scroll",t.followScroll),window.addEventListener("mousemove",t.drawLine),window.addEventListener("mouseup",function r(e){e.stopImmediatePropagation(),clearTimeout(n),window.removeEventListener("mousemove",i.drawLine),window.removeEventListener("mouseup",r);var t=setTimeout(i.discardDraw,100);window.__connectableEventBus.trigger(o,e,t)})}},this.endDrawing=function(e){function n(t){s?r.onconnect(t,r,o,e):o.onconnect(t,o,r,e)}var o=t,r=window.__connectableOrigin,s=i(t.root).top>i(r.root).top;o===r?r.discardDraw():new Promise(n).then(r.discardDraw)},this.discardDraw=function(){window.removeEventListener("scroll",t.followScroll),t._svgContainer.style.marginTop=0,t.drawing=!1,t.update()},window.__connectableEventBus.on(o,function(e,n){var o=i(t.root).top,r=o,s=o+t.root.offsetHeight;e.pageY>r&&e.pageY<s&&(clearTimeout(n),t.endDrawing(e))})},"{ }")},function(e,t){"use strict";e.exports={offset:function(e,t){var n,o,i;return e?(o=e.getBoundingClientRect(),o.width||o.height||e.getClientRects().length?(i=e.ownerDocument,n=i.documentElement,{top:o.top+window.pageYOffset-n.clientTop,left:o.left+window.pageXOffset-n.clientLeft}):void 0):void 0}}},function(e,t,n){"use strict";riot.tag2("toggle-switch",'<div class="switch {checked: active}"> <div class="ball"></div> </div> <div class="label"> <yield></yield> </div>',"",'onclick="{action}"',function(e){var t=this;n(10),this.active=this.opts.active,this.setActive=function(e){t.active=e},this.action=function(){t.active=!t.active,t.opts.onchange&&t.opts.onchange(t.active)}},"{ }")},function(e,t,n){var o=n(11);"string"==typeof o&&(o=[[e.id,o,""]]);n(5)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(4)(),t.push([e.id,"toggle-switch{display:table}toggle-switch .label,toggle-switch .switch{vertical-align:middle;display:table-cell}toggle-switch .label{padding-left:10px;user-select:none;-webkit-user-select:none;-moz-user-select:none;cursor:default}toggle-switch .switch{background:#ddd;width:48px;height:24px;border-radius:12px}toggle-switch .switch>.ball{float:left}toggle-switch .switch.checked{background:#32cd32}toggle-switch .switch.checked>.ball{float:right}toggle-switch .ball{background:#fff;border-radius:50%;height:20px;width:20px;margin:2px}",""])},function(e,t,n){"use strict";riot.tag2("floating-menu",'<div class="target" onclick="{toggle}"> <yield></yield> </div> <ul class="options" each="{open ? [1] : []}"> <li each="{option in getOptions()}" onclick="{action}">{option.name}</li> </ul>',"","",function(e){var t=this;n(13);var o=(n(8).offset,{CLOSE_OTHERS:"floating-menu:close-others"});window.__floatingMenuEventBus=window.__floatingMenuEventBus||riot.observable({}),this.open=!1,this.id=Math.random(),this.getOptions=function(){return t.open?t.opts.options:[]},this.action=function(e){t.hideMenu(),e.item.option.action&&e.item.option.action()},this.hideMenu=function(){t.open=!1,window.removeEventListener("click",t.hideMenu),t.update()},this.toggle=function(e){t.open=!t.open,t.open&&(window.addEventListener("click",t.hideMenu),window.__floatingMenuEventBus.trigger(o.CLOSE_OTHERS,t.id)),e.stopPropagation()},window.__floatingMenuEventBus.on(o.CLOSE_OTHERS,function(e){e!=t.id&&t.open&&(t.hideMenu(),t.update())})},"{ }")},function(e,t,n){var o=n(14);"string"==typeof o&&(o=[[e.id,o,""]]);n(5)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(4)(),t.push([e.id,"floating-menu{display:block}floating-menu .target{display:inline;cursor:default}floating-menu .options{background:#fff;box-shadow:1px 1px 20px rgba(0,0,0,.4);position:absolute;z-index:999;width:200px;padding:1px;margin:0}floating-menu .options li{list-style:none;color:#333;padding:10px 20px;cursor:pointer;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}floating-menu .options li:hover{background:#e4e4e4}",""])}]);